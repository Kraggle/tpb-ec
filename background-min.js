console.log=function(){},chrome.browserAction.onClicked.addListener((()=>{e("https://episodecalendar.com")}));const e=e=>{chrome.tabs.query({active:!0},(t=>{let n=t[0].index;chrome.tabs.create({url:e,index:n+1})}))};let t;function n(e,t){return n=e[t],!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n)&&$.ajax({url:e[t]}).done((function(n){e[t]="string"==typeof n?$("[href^=magnet]",n).attr("href"):""}));var n}chrome.runtime.onMessage.addListener((function(e,r,o){return e.getLinks&&e.item?(t=e.item,$.when(n(t,"mStandard"),n(t,"m1080"),n(t,"m1080HEVC"),n(t,"m720"),n(t,"m720HEVC")).done((function(e,n,r,a,i){o({item:t})}))):e.getLink&&e.item&&e.type?(t=e.item,$.when(n(t,e.type)).done((function(){o({item:t})}))):e.url?$.ajax({type:"GET",url:e.url}).done((function(e){o({success:e})})).fail((function(){o({error:!0})})):e.proxies?$.ajax({url:"http://ettvproxies.com/"}).done((function(e){let t=$.parseHTML(e),n=[];$("table.proxies td a",t).each((function(){n.push($(this).attr("href").replace(/\/$/,""))})),o(n[0])})):o({error:!0}),!0}));